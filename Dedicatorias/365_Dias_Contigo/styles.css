:root{
    --bg: #fff5f8;
    --surface: rgba(255,255,255,.75);
    --text: #2a2430;
    --muted: #6c6171;

    --pink-50: #fff5f8;
    --pink-100: #ffe6ef;
    --pink-200: #ffd0e1;
    --pink-300: #ffb4d0;
    --pink-400: #ff8fb8;
    --pink-500: #f26a9c;

    --border: rgba(42,36,48,.12);
    --shadow: 0 18px 45px rgba(42,36,48,.14);
    --shadow-soft: 0 10px 25px rgba(42,36,48,.10);

    --radius: 18px;
    --font-title: "Fraunces", serif;
    --font-body: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

*{ box-sizing: border-box; }

html, body{ height: 100%; }

body{
    margin: 0;
    font-family: var(--font-body);
    color: var(--text);
    background:
        radial-gradient(1200px 700px at 10% 10%, var(--pink-100), transparent 55%),
        radial-gradient(900px 700px at 90% 20%, rgba(255, 143, 184, .22), transparent 50%),
        radial-gradient(1000px 900px at 40% 110%, rgba(242, 106, 156, .12), transparent 55%),
        var(--bg);
}

.app-shell{
    min-height: 100%;
    padding: 18px 0 40px;
}

.app-container{
    position: relative;
}

.top-bar{
    display: flex;
    justify-content: center;
    margin-bottom: 14px;
}

.btn{
    border-radius: 999px;
    padding: 10px 18px;
    font-weight: 600;
    letter-spacing: .2px;
}

.btn-primary{
    background: linear-gradient(135deg, var(--pink-500), var(--pink-400));
    border: 0;
    box-shadow: 0 10px 18px rgba(242, 106, 156, .25);
}

.btn-primary:hover{
    transform: translateY(-1px);
    box-shadow: 0 14px 26px rgba(242, 106, 156, .28);
}

.btn-secondary{
    background: rgba(255,255,255,.85);
    border: 1px solid var(--border);
    color: var(--text);
    box-shadow: 0 8px 16px rgba(42,36,48,.08);
}

.btn-secondary:hover{
    background: rgba(255,255,255,.95);
    border-color: rgba(242, 106, 156, .35);
    color: var(--text);
}

.book-cover{
    width: min(520px, 92vw);
    height: min(640px, 72vh);
    border-radius: calc(var(--radius) + 10px);
    padding: 28px 24px;
    margin: 0 auto;
    background:
        radial-gradient(800px 500px at 20% 20%, rgba(255,255,255,.35), transparent 55%),
        linear-gradient(145deg, #ffb9d2, #ff7fb0);
    color: #fff;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

.book-cover::before{
    content: "";
    position: absolute;
    inset: 10px;
    border-radius: calc(var(--radius) + 6px);
    border: 1px solid rgba(255,255,255,.35);
    pointer-events: none;
}

.cover-badge{
    position: absolute;
    top: 18px;
    left: 18px;
    padding: 6px 12px;
    border-radius: 999px;
    font-weight: 700;
    font-size: .85rem;
    background: rgba(255,255,255,.22);
    border: 1px solid rgba(255,255,255,.30);
    backdrop-filter: blur(6px);
}

.book-cover h1{
    font-family: var(--font-title);
    font-weight: 700;
    font-size: clamp(2.2rem, 4vw, 3.2rem);
    margin: 0;
    text-shadow: 0 10px 25px rgba(42,36,48,.22);
}

.book-cover .subtitle{
    margin: 12px 0 0;
    font-size: 1.05rem;
    opacity: .95;
}

.cover-hint{
    margin: 0;
    font-size: .95rem;
    opacity: .9;
}

.book-cover button{
    margin-top: 26px;
    width: min(220px, 90%);
}

.book-view{
    width: min(980px, 95vw);
    margin: 0 auto;
    border-radius: calc(var(--radius) + 6px);
    box-shadow: var(--shadow);
    background: rgba(255,255,255,.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,.45);
    overflow: hidden;
    position: relative;
}

.desktop-pages{ width: 100%; }

.page-left, .page-right, .mobile-page{
    background:
        linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.90)),
        radial-gradient(700px 220px at 50% 0%, rgba(255, 214, 232, .55), transparent 60%);
    border-right: 1px solid rgba(42,36,48,.10);
    min-height: 640px;
    display: flex;
    flex-direction: column;
}

.page-left, .page-right{ width: 50%; }

.page-right{
    border-right: 0;
    border-left: 1px solid rgba(42,36,48,.08);
}

.page-content{
    flex: 1 1 auto;
    padding: 26px 28px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

.page-date{
    font-weight: 700;
    font-size: .95rem;
    color: var(--muted);
    margin-bottom: 14px;
    letter-spacing: .2px;
}

.page-text{
    margin: 0;
    line-height: 1.75;
    font-size: 1.05rem;
    color: var(--text);
    white-space: pre-wrap;
}

.footer{
    flex-shrink: 0;
    padding: 14px 14px;
    font-size: .92rem;
    color: rgba(42,36,48,.72);
    background: linear-gradient(180deg, rgba(255, 230, 239, .72), rgba(255, 230, 239, .95));
    border-top: 1px solid rgba(42,36,48,.10);
}

.navigation-arrow{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 48px;
    height: 58px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.55);
    background: rgba(255,255,255,.65);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-soft);
    color: rgba(42,36,48,.75);
    font-size: 1.8rem;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    z-index: 50;
    cursor: pointer;
    transition: transform .15s ease, background .15s ease;
}

.navigation-arrow:hover{
    transform: translateY(-50%) scale(1.02);
    background: rgba(255,255,255,.85);
}

.prev-arrow{ left: 10px; }
.next-arrow{ right: 10px; }

.mobile-navigation{
    display: flex;
    justify-content: center;
    gap: 10px;
    width: 100%;
    margin-top: 12px;
    position: sticky;
    bottom: 10px;
    z-index: 80;
}

.mobile-navigation .btn{ min-width: 140px; }

#indexModal .modal-content{
    border-radius: calc(var(--radius) + 6px);
    border: 1px solid rgba(255,255,255,.55);
    background: rgba(255,255,255,.80);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow);
}

#indexModal .modal-header{
    border-bottom: 1px solid rgba(42,36,48,.10);
}

#indexModal .modal-title{
    font-family: var(--font-title);
    font-weight: 700;
}

#calendar{
    width: 100%;
    padding: 10px 6px;
    min-height: 420px;
}

.fc .fc-toolbar-title{
    font-family: var(--font-title);
    font-weight: 700;
    color: var(--text);
}

.fc .fc-button{
    border-radius: 999px;
    border: 1px solid rgba(42,36,48,.12) !important;
    background: rgba(255,255,255,.85) !important;
    color: var(--text) !important;
    box-shadow: 0 8px 16px rgba(42,36,48,.08);
}

.fc .fc-button:hover{
    background: rgba(255,255,255,.95) !important;
    border-color: rgba(242, 106, 156, .35) !important;
}

.fc .fc-daygrid-day-number{
    color: rgba(42,36,48,.7);
    text-decoration: none;
}

.fc .fc-daygrid-day.fc-day-today{
    background: rgba(255, 214, 232, .55);
}

.fc .fc-event{
    border: 0;
    background: rgba(242, 106, 156, .25);
    color: rgba(42,36,48,.75);
    border-radius: 999px;
    padding: 2px 8px;
    font-size: .75rem;
}

.fc .fc-event-title{ font-weight: 600; }

.page-content::-webkit-scrollbar{ width: 10px; }
.page-content::-webkit-scrollbar-thumb{
    background: rgba(242,106,156,.28);
    border-radius: 999px;
    border: 3px solid rgba(255,255,255,.6);
}
.page-content::-webkit-scrollbar-track{ background: transparent; }

@media (max-width: 767.98px){
    .book-cover{
        height: min(560px, 76vh);
        width: 94vw;
        padding: 26px 18px;
    }

    .book-view{
        height: calc(100vh - 150px);
        width: 94vw;
    }

    .mobile-page{ min-height: 100%; }

    .page-content{ padding: 20px 18px; }

    .footer{ padding: 12px 12px; }

    .navigation-arrow{ display: none; }

    #calendar{ min-height: 360px; }
}

@media (prefers-reduced-motion: reduce){
    *{ transition: none !important; }
}
